{"version":3,"sources":["propertyFields/sliderWithCallout/PropertyFieldSliderWithCallout.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,6BAA+B;AAC/B,oCAAsC;AACtC,8DAGoC;AAEpC,2FAAsF;AAGtF,+CAAkD;AAElD;IAQI,+CAAmB,eAAuB,EAAE,WAAyD;QAN9F,SAAI,GAA0B,uCAAqB,CAAC,MAAM,CAAC;QAI1D,cAAS,GAAuC,eAAQ,EAAE,CAAC;QAG/D,IAAI,CAAC,cAAc,GAAG,eAAe,CAAC;QACtC,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;QAE9B,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnD,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzD,CAAC;IAEO,uDAAO,GAAf,UAAgB,IAAiB,EAAE,OAAa,EAAE,cAAkE;QAEhH,IAAM,KAAK,GAA+E,IAAI,CAAC,UAAU,CAAC;QAE1G,IAAM,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC,4CAAkC,eAC/D,KAAK,IACR,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IACtC,CAAC;QAEH,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAE/B,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,iBAAiB,GAAG,cAAc,CAAC;QAC5C,CAAC;IACL,CAAC;IAEO,wDAAQ,GAAhB,UAAiB,IAAiB;QAC9B,QAAQ,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAEO,0DAAU,GAAlB,UAAmB,KAAa;QAAhC,iBAOC;QANG,IAAM,KAAK,GAA+E,IAAI,CAAC,UAAU,CAAC;QAC1G,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;YAC3B,KAAK,CAAC,QAAQ;gBACZ,IAAI,CAAC,SAAS,CAAC,cAAQ,OAAO,CAAC,GAAG,CAAC,qBAAmB,KAAK,CAAC,QAAU,CAAC,CAAE,CAAA,KAAI,CAAC,iBAAiB,CAAC,KAAI,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC;gBAC/I,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QACvD,CAAC;IACL,CAAC;IACL,4CAAC;AAAD,CA5CA,AA4CC,IAAA;AAED,wCAA+C,cAAsB,EAAE,UAAgD;IACnH,MAAM,CAAC,IAAI,qCAAqC,CAAC,cAAc,eACxD,UAAU,IACb,QAAQ,EAAE,IAAI,EACd,SAAS,EAAE,IAAI,IACjB,CAAC;AACP,CAAC;AAND,wEAMC","file":"propertyFields/sliderWithCallout/PropertyFieldSliderWithCallout.js","sourcesContent":["import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport {\n    IPropertyPaneField,\n    PropertyPaneFieldType\n} from '@microsoft/sp-webpart-base';\n\nimport PropertyFieldSliderWithCalloutHost from './PropertyFieldSliderWithCalloutHost';\n\nimport {IPropertyFieldSliderWithCalloutPropsInternal, IPropertyFieldSliderWithCalloutProps} from './IPropertyFieldSliderWithCallout';\nimport { debounce } from '../../common/util/Util';\n\nclass PropertyFieldSliderWithCalloutBuilder implements IPropertyPaneField<IPropertyFieldSliderWithCalloutPropsInternal> {\n    public targetProperty: string;\n    public type: PropertyPaneFieldType = PropertyPaneFieldType.Custom;\n    public properties: IPropertyFieldSliderWithCalloutPropsInternal;\n\n    private _onChangeCallback: (targetProperty?: string, newValue?: any) => void;\n    private _debounce: (fnc: any, timeout:number) => void = debounce();\n\n    public constructor(_targetProperty: string, _properties: IPropertyFieldSliderWithCalloutPropsInternal) {\n        this.targetProperty = _targetProperty;\n        this.properties = _properties;\n\n        this.properties.onRender = this._render.bind(this);\n        this.properties.onDispose = this._dispose.bind(this);\n    }\n\n    private _render(elem: HTMLElement, context?: any, changeCallback?: (targetProperty?: string, newValue?: any) => void): void {\n\n        const props: IPropertyFieldSliderWithCalloutProps = <IPropertyFieldSliderWithCalloutProps>this.properties;\n\n        const element = React.createElement(PropertyFieldSliderWithCalloutHost, {\n            ...props,\n            onChange: this._onChanged.bind(this)\n        });\n\n        ReactDOM.render(element, elem);\n\n        if (changeCallback) {\n            this._onChangeCallback = changeCallback;\n        }\n    }\n\n    private _dispose(elem: HTMLElement) {\n        ReactDOM.unmountComponentAtNode(elem);\n    }\n\n    private _onChanged(value: number): void {\n        const props: IPropertyFieldSliderWithCalloutProps = <IPropertyFieldSliderWithCalloutProps>this.properties;\n        if (this._onChangeCallback) {\n          props.debounce ?\n            this._debounce(() => { console.log(`Debounced after ${props.debounce}`) ;this._onChangeCallback(this.targetProperty, value); }, props.debounce):\n            this._onChangeCallback(this.targetProperty, value);\n        }\n    }\n}\n\nexport function PropertyFieldSliderWithCallout(targetProperty: string, properties: IPropertyFieldSliderWithCalloutProps): IPropertyPaneField<IPropertyFieldSliderWithCalloutPropsInternal> {\n    return new PropertyFieldSliderWithCalloutBuilder(targetProperty, {\n        ...properties,\n        onRender: null,\n        onDispose: null\n    });\n}\n"],"sourceRoot":"../../../src"}