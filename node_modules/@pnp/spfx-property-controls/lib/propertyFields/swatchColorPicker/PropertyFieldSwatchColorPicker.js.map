{"version":3,"sources":["propertyFields/swatchColorPicker/PropertyFieldSwatchColorPicker.ts"],"names":[],"mappings":"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","file":"propertyFields/swatchColorPicker/PropertyFieldSwatchColorPicker.js","sourcesContent":["import { IPropertyPaneField, PropertyPaneFieldType } from '@microsoft/sp-webpart-base';\nimport { getColorFromString, IColor } from 'office-ui-fabric-react/lib/utilities/color/colors';\nimport * as React from 'react';\nimport * as ReactDom from 'react-dom';\n\nimport {\n    IPropertyFieldSwatchColorPickerProps,\n    IPropertyFieldSwatchColorPickerPropsInternal,\n    PropertyFieldSwatchColorPickerStyle,\n} from './IPropertyFieldSwatchColorPicker';\nimport { IPropertyFieldSwatchColorPickerHostProps } from './IPropertyFieldSwatchColorPickerHost';\nimport PropertyFieldSwatchColorPickerHost from './PropertyFieldSwatchColorPickerHost';\n\nclass PropertyFieldSwatchColorPickerBuilder implements IPropertyPaneField<IPropertyFieldSwatchColorPickerProps> {\n\t\n\t//Properties defined by IPropertyPaneField\n\tpublic type: PropertyPaneFieldType = PropertyPaneFieldType.Custom;\n\tpublic targetProperty: string;\n\tpublic properties: IPropertyFieldSwatchColorPickerPropsInternal;\n\tprivate elem: HTMLElement;\n\tprivate color: string;\n\tprivate valueAsObject;\n\tprivate changeCB?: (targetProperty?: string, newValue?: any) => void;\n\n\tpublic constructor(_targetProperty: string, _properties: IPropertyFieldSwatchColorPickerProps) {\n\t\tthis.targetProperty = _targetProperty;\n\t\tthis.properties = {\n\t\t\tkey: _properties.key,\n\t\t\tlabel: _properties.label,\n\t\t\tonPropertyChange: _properties.onPropertyChange,\n\t\t\tselectedColor: _properties.selectedColor,\n\t\t\tcolors: _properties.colors,\n\t\t\tshowAsCircles: _properties.showAsCircles,\n\t\t\tcolumnCount: _properties.columnCount,\n\t\t\tdisabled: _properties.disabled,\n\t\t\tproperties: _properties.properties,\n\t\t\tstyle: _properties.style,\n\t\t\ticonName: _properties.iconName,\n\t\t\tonRender: this.onRender.bind(this)\n\t\t};\n\n\t\tif(typeof _properties.selectedColor === 'undefined') {\n\t\t\tthis.color = null;\n\t\t} else {\n\t\t\tif(typeof _properties.selectedColor === 'string') {\n\t\t\t\tthis.color = _properties.selectedColor;\n\t\t\t} else {\n\t\t\t\tthis.color = _properties.selectedColor.str;\n\t\t\t}\n\t\t}\n\n\t\tthis.valueAsObject = _properties.valueAsObject;\n\t}\n\n\tpublic render(): void {\n\t\tif (!this.elem) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.onRender(this.elem);\n\t}\n\n\tprivate onRender(elem: HTMLElement, ctx?: any, changeCallback?: (targetProperty?: string, newValue?: any) => void): void {\n\t\tif (!this.elem) {\n\t\t\tthis.elem = elem;\n\t\t}\n\t\tthis.changeCB = changeCallback;\n\n\t\tconst element: React.ReactElement<IPropertyFieldSwatchColorPickerHostProps> = React.createElement(PropertyFieldSwatchColorPickerHost, {\n\t\t\tlabel: this.properties.label,\n\t\t\tdisabled: this.properties.disabled,\n\t\t\tcolors: (typeof this.properties.colors === 'undefined'  || this.properties.colors.length === 0) ? [{ color: '#FFFFFF' }] : this.properties.colors,\n\t\t\tshowAsCircles: this.properties.showAsCircles,\n\t\t\tcolumnCount: typeof this.properties.columnCount === 'undefined' ? 6 : Math.min(Math.max(1,this.properties.columnCount),8),\n\t\t\tselectedColor: this.color,\n\t\t\tstyle: this.properties.style || PropertyFieldSwatchColorPickerStyle.Inline,\n\t\t\ticonName: this.properties.iconName || 'Color',\n\t\t\tonColorChanged: this.onColorChanged.bind(this)\n\t\t});\n\t\tReactDom.render(element, elem);\n\t}\n\n\tprivate onColorChanged(id: string, newColor: string): void {\n\t\tif (this.properties.onPropertyChange && newColor !== null) {\n\t\t\tlet newValue: string | IColor = (this.valueAsObject ? getColorFromString(newColor) : newColor);\n\t\t\tlet oldValue: string | IColor = (this.valueAsObject ? getColorFromString(this.color) : this.color);\n\t\t\tthis.color = newColor;\n\t\t\tthis.properties.onPropertyChange(this.targetProperty, oldValue, newValue);\n\t\t\tthis.properties.properties[this.targetProperty] = newValue;\n\t\t\tif (typeof this.changeCB !== 'undefined' && this.changeCB !== null) {\n\t\t\t\tthis.changeCB(this.targetProperty, newValue);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function PropertyFieldSwatchColorPicker(targetProperty: string, properties: IPropertyFieldSwatchColorPickerProps): IPropertyPaneField<IPropertyFieldSwatchColorPickerProps> {\n\treturn new PropertyFieldSwatchColorPickerBuilder(targetProperty, properties);\n}\n"],"sourceRoot":"../../../src"}